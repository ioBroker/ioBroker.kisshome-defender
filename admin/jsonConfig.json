{
    "i18n": true,
    "type": "tabs",
    "items": {
        "_options": {
            "type": "panel",
            "label": "General settings",
            "items": {
                "email": {
                    "type": "text",
                    "sm": 12,
                    "md": 3,
                    "lg": 3,
                    "label": "Email",
                    "tooltip": "E-mail address that was used for registration"
                },
                "_hint": {
                    "newLine": true,
                    "type": "staticLink",
                    "sm": 12,
                    "href": "https://kisshome-research.if-is.net/#/register",
                    "text": "To participate in the KISSHome research, you need to register here."
                },
                "fritzbox": {
                    "newLine": true,
                    "type": "text",
                    "sm": 12,
                    "md": 3,
                    "lg": 3,
                    "label": "FritzBox IP",
                    "defaultSendTo": "getDefaultGateway",
                    "allowSaveWithError": true,
                    "disabled": "!data.email"
                },
                "login": {
                    "newLine": true,
                    "type": "autocompleteSendTo",
                    "command": "getUsers",
                    "alsoDependsOn": ["fritzbox"],
                    "jsonData": "{\"ip\": \"${data.fritzbox}\"}",
                    "freeSolo": true,
                    "sm": 12,
                    "md": 3,
                    "lg": 3,
                    "label": "FritzBox Login",
                    "disabled": "!data.email"
                },
                "password": {
                    "type": "password",
                    "sm": 12,
                    "md": 6,
                    "repeat": true,
                    "lg": 6,
                    "label": "FritzBox Password",
                    "disabled": "!data.email"
                },
                "_hint2": {
                    "newLine": true,
                    "type": "staticLink",
                    "sm": 12,
                    "href": "https://kisshome-research.if-is.net/#/faq/interface",
                    "text": "Explanation of the Fritz!Box interface could be found at this link.",
                    "disabled": "!data.email"
                },
                "iface": {
                    "newLine": true,
                    "type": "selectSendTo",
                    "command": "getInterfaces",
                    "manual": true,
                    "jsonData": "{\"ip\": \"${data.fritzbox}\", \"login\": \"${data.login}\", \"password\": \"${data.password}\"}",
                    "alsoDependsOn": ["fritzbox", "login", "password"],
                    "sm": 12,
                    "md": 6,
                    "lg": 6,
                    "label": "FritzBox Interface",
                    "help": "Default interface is 1-lan",
                    "disabled": "!data.email"
                },
                "tempDir": {
                    "newLine": true,
                    "type": "text",
                    "sm": 12,
                    "md": 6,
                    "lg": 6,
                    "label": "Working directory",
                    "help": "Directory for temporary files. Leave empty to use the system directory.",
                    "disabled": "!data.email"
                },
                "saveThresholdSeconds": {
                    "type": "slider",
                    "sm": 11,
                    "md": 6,
                    "lg": 6,
                    "newLine": true,
                    "step": 10,
                    "min": 600,
                    "max": 3600,
                    "label": "Save threshold in seconds"
                },
                "allowTraining": {
                    "newLine": true,
                    "type": "checkbox",
                    "sm": 12,
                    "label": "I allow the training of the AI model with my data",
                    "hidden": "!data.email"
                },
                "_header": {
                    "newLine": true,
                    "type": "header",
                    "size": 4,
                    "sm": 12,
                    "md": 12,
                    "lg": 12,
                    "text": "Recording"
                },
                "_recordingEnabled": {
                    "type": "state",
                    "disabled": "!data.email || !data.fritzbox || data.fritzbox === '0.0.0.0' || !data.login || !data.password || !data.iface",
                    "oid": "info.recording.enabled",
                    "control": "switch",
                    "falseText": "Disabled",
                    "trueText": "Enabled"
                },
                "_recordingRunning": {
                    "type": "state",
                    "oid": "info.recording.running",
                    "control": "text",
                    "falseText": "Recording is not running",
                    "trueTextStyle": {
                        "marginTop": 11,
                        "fontSize": 12,
                        "color": "green",
                        "fontWeight": "bold"
                    },
                    "falseTextStyle": {
                        "marginTop": 11,
                        "fontSize": 12,
                        "opacity": 0.7
                    },
                    "trueText": "Recording is running",
                    "disabled": "!data.email"
                },
                "_filter": {
                    "newLine": true,
                    "type": "textSendTo",
                    "command": "getFilter",
                    "jsonData": "{\"ip\": \"${data.fritzbox}\", \"login\": \"${data.login}\", \"password\": \"${data.password}\"}",
                    "alsoDependsOn": ["fritzbox", "login", "password"],
                    "sm": 12,
                    "md": 12,
                    "lg": 12,
                    "disabled": "!data.email"
                }
            }
        },
        "_instances": {
            "type": "panel",
            "label": "Addresses",
            "disabled": "!data.email",
            "items": {
                "_info": {
                    "type": "staticText",
                    "sm": 12,
                    "text": "The MAC address is important, but if you enter the IP address, the system will try to find the MAC address automatically."
                },
                "_devices": {
                    "newLine": true,
                    "type": "custom",
                    "sm": 12,
                    "i18n": true,
                    "url": "custom/customComponents.js",
                    "name": "ConfigCustomKissHomeDefenderSet/Components/ConfigCustomInstancesSelector",
                    "bundlerType": "module"
                }
            }
        },
        "_docker": {
            "type": "panel",
            "label": "Docker",
            "items": {
                "_info": {
                    "type": "infoBox",
                    "title": "KISSHome Defender AI Engine is running in a Docker container",
                    "sm": 12,
                    "text": "This adapter can start the required docker image for you or you can start the docker image yourself. In the latter case, you need to set the Docker URL."
                },
                "docker.selfHosted": {
                    "type": "checkDocker",
                    "label": "Docker container is hosted by the adapter",
                    "default": true
                },
                "docker.url": {
                    "newLine": true,
                    "type": "text",
                    "label": "Docker URL",
                    "help": "Like http://dockerIp:5000",
                    "hidden": "!!data.docker?.selfHosted"
                },
                "docker.bind": {
                    "newLine": true,
                    "type": "selectSendTo",
                    "command": "getBindAddresses",
                    "data": {},
                    "noTranslation": true,
                    "manual": true,
                    "md": 4,
                    "sm": 8,
                    "xs": 12,
                    "label": "Docker bind",
                    "hidden": "!data.docker?.selfHosted"
                },
                "docker.port": {
                    "type": "port",
                    "label": "Docker port",
                    "md": 2,
                    "sm": 4,
                    "xs": 12,
                    "hidden": "!data.docker?.selfHosted"
                },
                "docker.volume": {
                    "newLine": true,
                    "container": "text",
                    "type": "textSendTo",
                    "command": "getDockerVolume",
                    "jsonData": "{}",
                    "label": "Path to store models and persistent data",
                    "hidden": "!data.docker?.selfHosted",
                    "default":  "<IOBROKER-PATH>/iobroker-data/kisshome-defender/volume",
                    "md": 6,
                    "xs": 12
                },
                "_restart": {
                    "newLine": true,
                    "type": "state",
                    "oid": "info.ids.restart",
                    "control": "button",
                    "sm": 12,
                    "label": "Restart Docker Container",
                    "hidden": "!data.docker?.selfHosted || !data.docker?.url",
                    "disabled": "!_alive"
                }
            }
        }
    }
}
