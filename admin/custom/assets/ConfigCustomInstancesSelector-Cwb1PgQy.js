import{j as h}from"./jsx-runtime-Dy6Z589d.js";import{C as u,a as $}from"./ConfigCustomKissHomeDefenderSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__-CIRHlHjL.js";import{C as g}from"./ConfigCustomKissHomeDefenderSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__-DZU1LvPU.js";import{C as R,i as D}from"./ConfigCustomKissHomeDefenderSet__mf_v__runtimeInit__mf_v__-BHxSyEsu.js";let E;const z=new Uint8Array(16);function U(){if(!E&&(E=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!E))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(z)}const x=[];for(let i=0;i<256;++i)x.push((i+256).toString(16).slice(1));function q(i,t=0){return x[i[t+0]]+x[i[t+1]]+x[i[t+2]]+x[i[t+3]]+"-"+x[i[t+4]]+x[i[t+5]]+"-"+x[i[t+6]]+x[i[t+7]]+"-"+x[i[t+8]]+x[i[t+9]]+"-"+x[i[t+10]]+x[i[t+11]]+x[i[t+12]]+x[i[t+13]]+x[i[t+14]]+x[i[t+15]]}const G=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),O={randomUUID:G};function A(i,t,n){if(O.randomUUID&&!i)return O.randomUUID();i=i||{};const a=i.random||(i.rng||U)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,q(a)}const{loadShare:N}=D,{initPromise:F}=R,P=F.then(i=>N("@iobroker/json-config",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),X=await P.then(i=>i());var b=X;const _={table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"},td:{padding:"2px 16px"},vendor:{maxWidth:150,fontSize:12,textOverflow:"ellipsis",overflow:"hidden"}};async function W(i,t){const n=await i.getObjectViewSystem("state",`${t}.`,`${t}.香`),a=[],o=Object.keys(n).filter(r=>r.endsWith(".address"));for(let r=0;r<o.length;r++){const e=o[r],s=await i.getState(e);s!=null&&s.val&&a.push({ip:s.val,name:"homekit-controller"})}return a}async function B(i,t){const n=await i.getObjectViewSystem("state",`${t}.`,`${t}.香`),a=[],o=Object.keys(n).filter(r=>r.endsWith(".address"));for(let r=0;r<o.length;r++){const e=o[r],s=await i.getState(e);s!=null&&s.val&&a.push({ip:s.val,name:"homekit-controller"})}return a}async function H(i,t){const n=await i.getObjectViewSystem("state",`${t}.`,`${t}.香`),a=[],o=Object.keys(n).filter(r=>r.endsWith(".hostname"));for(let r=0;r<o.length;r++){const e=o[r],s=await i.getState(e);s!=null&&s.val&&a.push({ip:s.val,name:"shelly"})}return a}async function J(i,t){var r,e;const n=await i.getObjectViewSystem("state",`${t}.info.clients.`,`${t}.info.clients.香`),a=[],o=Object.values(n);for(let s=0;s<o.length;s++)(e=(r=o[s])==null?void 0:r.native)!=null&&e.ip&&a.push({ip:o[s].native.ip,name:t.split(".")[0]});return a}async function K(i,t){var r,e,s;const n=await i.getObjectViewSystem("device",`${t}.`,`${t}.香`),a=Object.values(n),o=[];for(let l=0;l<a.length;l++)((r=a[l])==null?void 0:r.type)==="device"&&((s=(e=a[l])==null?void 0:e.native)!=null&&s.ip)&&o.push({ip:a[l].native.ip,name:t.split(".")[0]});return o}const L=[{adapter:"broadlink2",attr:"additional"},{adapter:"harmony",attr:"devices",arrayAttr:"ip"},{adapter:"hm-rpc",attr:"homematicAddress"},{adapter:"homeconnect",browse:B},{adapter:"homekit-controller",attr:"discoverIp",browse:W},{adapter:"hue",attr:"bridge"},{adapter:"knx",attr:"bind"},{adapter:"lgtv",attr:"ip"},{adapter:"loxone",attr:"host"},{adapter:"mihome-vacuum",attr:"ip"},{adapter:"modbus",attr:"params.bind",clients:!0},{adapter:"mqtt",attr:"url",clients:!0},{adapter:"mqtt-client",attr:"host"},{adapter:"lcn",attr:"host"},{adapter:"knx",attr:"gwip"},{adapter:"onvif"},{adapter:"openknx",attr:"gwip"},{adapter:"broadlink2",attr:"additional"},{adapter:"proxmox",attr:"ip"},{adapter:"samsung",attr:"ip"},{adapter:"shelly",browse:H},{adapter:"sonoff",clients:!0},{adapter:"sonos",attr:"devices",arrayAttr:"ip"},{adapter:"tr-064",attr:"iporhost"},{adapter:"unify",attr:"controllerIp"},{adapter:"upnp",browse:K},{adapter:"wled",attr:"devices",arrayAttr:"ip"},{adapter:"wifilight",attr:"devices",arrayAttr:"ip"}];function k(i){return i?typeof i!="string"?!1:(i=i.trim().toUpperCase().replace(/\s/g,""),!i||i.match(/^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$/)?!0:!!i.match(/^([0-9A-F]{12})$/)):!0}function I(i){return!i||!k(i)?i||"":(i=i.toUpperCase().trim().replace(/[\s:-]/g,""),i.replace(/(..)(..)(..)(..)(..)(..)/,"$1:$2:$3:$4:$5:$6"))}function T(i){return i?typeof i!="string"?!1:(i=i.trim(),i?i.match(/^\d+\.\d+\.\d+\.\d+$/)?!i.trim().split(".").map(n=>parseInt(n,10)).find(n=>n<0||n>255):!1:!0):!0}function V(i){return!i||!T(i)?i:i.trim().split(".").map(n=>parseInt(n,10)).join(".")}class j extends b.ConfigGeneric{resolveDone=!1;validateTimeout=null;async componentDidMount(){var l;super.componentDidMount();let t=[];const n=await this.props.oContext.socket.getObject(`system.adapter.kisshome-defender.${this.props.oContext.instance}`);if(n!=null&&n.common.host){const d=await this.props.oContext.socket.getObject(`system.host.${n.common.host}`);(l=d==null?void 0:d.common)!=null&&l.address&&(t=d.common.address)}const o=(await this.props.oContext.socket.getAdapterInstances()).filter(d=>{var p;return((p=d==null?void 0:d.common)==null?void 0:p.adminUI)&&(d.common.adminUI.config!=="none"||d.common.adminUI.tab)}).map(d=>({id:d._id.replace(/^system\.adapter\./,""),name:d.common.name,native:d.native})).sort((d,p)=>d.id>p.id?1:d.id<p.id?-1:0),r=b.ConfigGeneric.getValue(this.props.data,"devices")||[];r.forEach(d=>{d.uuid||(d.uuid=A())});const e=await this.collectIpAddresses(o,t,r),s={instances:o,ips:e,IP2MAC:{},MAC2VENDOR:{},alive:this.props.alive,resolving:!1,showMessage:!1};this.resolveDone=!1,this.setState(s),await this.props.oContext.socket.subscribeState(`system.adapter.kisshome-defender.${this.props.oContext.instance}.alive`,this.onAliveChanged),this.props.alive&&this.resolveMACs(),this.disableFritzBox(),this.checkDevices(r)}resolveMACs(){this.resolveDone=!0,this.setState({runningRequest:!0},()=>{const t=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],n=[];return t.forEach(a=>{const o=V(a.ip),r=I(a.mac);o&&T(o)?n.push({ip:o,mac:r}):r&&k(r)&&n.push({ip:o,mac:r})}),this.state.ips.forEach(a=>{const o=V(a.ip),r=I(a.mac);o&&T(o)&&!n.find(e=>e.ip===o)?n.push({ip:o,mac:r}):r&&k(r)&&!n.find(e=>e.ip===o)&&n.push({ip:o,mac:r})}),this.props.oContext.socket.sendTo(`kisshome-defender.${this.props.oContext.instance}`,"getMacForIps",n).then(a=>{var d;if(a!=null&&a.error){this.setState({runningRequest:!1});return}const o=a,r={...this.state.IP2MAC||{}},e={...this.state.MAC2VENDOR||{}},s=JSON.parse(JSON.stringify(this.state.ips));(d=o==null?void 0:o.result)==null||d.forEach(p=>{const c=p.ip,m=s.findIndex(y=>y.ip===c);m!==-1&&(s[m].mac=p.mac),r[V(c)]=p.mac,e[I(p.mac)]=p.vendor});let l=!1;t.forEach(p=>{const c=s.findIndex(m=>m.ip===p.ip);c!==-1&&s[c].mac&&p.mac!==s[c].mac&&(l=!0,p.mac=s[c].mac)}),this.setState({ips:s,IP2MAC:r,MAC2VENDOR:e,runningRequest:!1}),l&&this.onChange("devices",t)}).catch(a=>{a.toString()!=="no results"&&window.alert(`Cannot get MAC addresses: ${a}`),this.setState({runningRequest:!1})})})}static getAttr(t,n){if(Array.isArray(n)){const a=n.shift();return a&&typeof t[a]=="object"?j.getAttr(t[a],n):!n.length&&a?t[a]:null}return j.getAttr(t,n.split("."))}static isIp(t){if(typeof t=="string"){if(t.match(/^\d+\.\d+\.\d+\.\d+$/))return"ipv4";if(t.match(/^[\da-fA-F:]+$/))return"ipv6"}return null}componentWillUnmount(){super.componentWillUnmount(),this.props.oContext.socket.unsubscribeState(`system.adapter.kisshome-defender.${this.props.oContext.instance}.alive`,this.onAliveChanged),this.validateTimeout&&(clearTimeout(this.validateTimeout),this.validateTimeout=null)}onAliveChanged=(t,n)=>{this.state.alive!==!!(n!=null&&n.val)&&this.setState({alive:!!(n!=null&&n.val)},()=>{this.state.alive&&(this.resolveDone?this.validateAddresses():this.resolveMACs())})};validateAddresses(){this.validateTimeout&&clearTimeout(this.validateTimeout),this.validateTimeout=setTimeout(()=>{if(this.validateTimeout=null,!this.state.alive)return;const t=[],n=b.ConfigGeneric.getValue(this.props.data,"devices")||[],a={...this.state.IP2MAC},o={...this.state.MAC2VENDOR};n.forEach(r=>{const e=V(r.ip),s=I(r.mac);e&&T(r.ip)&&!a[e]?(a[e]="-",t.push(r),r.mac&&k(r.mac)&&!o[s]&&(o[s]="-")):r.mac&&k(r.mac)&&!o[s]&&(o[s]="-",t.push(r))}),t.length&&this.setState({resolving:!0,IP2MAC:a,MAC2VENDOR:o},()=>{this.props.oContext.socket.sendTo(`kisshome-defender.${this.props.oContext.instance}`,"getMacForIps",t).then(r=>{var p;if(r!=null&&r.error){this.setState({resolving:!1});return}const e=r,s={...this.state.IP2MAC},l={...this.state.MAC2VENDOR};let d=!1;(p=e==null?void 0:e.result)==null||p.forEach(c=>{c.ip=I(c.ip),c.mac=I(c.mac),c.mac&&s[c.ip]!==c.mac&&(s[c.ip]=c.mac,d=!0),c.vendor&&l[c.mac]!==c.vendor&&(l[c.mac]=c.vendor,d=!0)}),d&&this.setState({IP2MAC:s,MAC2VENDOR:l,resolving:!1})})})},1e3)}async collectIpAddresses(t,n,a){let o=[];t||=this.state.instances;for(let e=0;e<t.length;e++){const s=L.find(l=>l.adapter===t[e].name);if(s&&t[e].native){const l=s.attr;if(l&&t[e].native[l])if(s.arrayAttr){if(Array.isArray(t[e].native[l]))for(let d=0;d<t[e].native[l].length;d++){const p=t[e].native[l][d],c=j.getAttr(p,s.arrayAttr),m=j.isIp(c);if(m){const y=a.find(M=>M.ip===c);o.push({ip:c,type:m,desc:t[e].name,uuid:(y==null?void 0:y.uuid)||A()})}}}else{const d=j.getAttr(t[e].native,l),p=j.isIp(d);if(p){const c=a.find(m=>m.ip===d);o.push({ip:d,type:p,desc:t[e].name,uuid:(c==null?void 0:c.uuid)||A()})}}if(s.browse)try{(await s.browse(this.props.oContext.socket,t[e].id.replace("system.adapter.",""))).forEach(p=>{const c=j.isIp(p.ip);if(c){const m=a.find(y=>y.ip===p.ip);o.push({ip:p.ip,type:c,desc:p.name||t[e].name,uuid:(m==null?void 0:m.uuid)||A()})}})}catch(d){console.error(`Cannot collect "${JSON.stringify(t[e])}": ${d}`)}if(s.clients)try{(await J(this.props.oContext.socket,t[e].id.replace("system.adapter.",""))).forEach(p=>{const c=j.isIp(p.ip);if(c){const m=a.find(y=>y.ip===p.ip);o.push({ip:p.ip,type:c,desc:p.name||t[e].name,uuid:(m==null?void 0:m.uuid)||A()})}})}catch(d){console.error(`Cannot collect "${JSON.stringify(t[e])}": ${d}`)}}else if(t[e].native.ip&&typeof t[e].native.ip=="string"&&t[e].native.ip.match(/^\d+\.\d+\.\d+\.\d+$/)){const l=a.find(d=>d.ip===t[e].native.ip);o.push({ip:t[e].native.ip,type:"ipv4",desc:t[e].name,uuid:(l==null?void 0:l.uuid)||A()})}else if(t[e].native.host&&typeof t[e].native.host=="string"&&t[e].native.host.match(/^\d+\.\d+\.\d+\.\d+$/)){const l=a.find(d=>d.ip===t[e].native.host);o.push({ip:t[e].native.host,type:"ipv4",desc:t[e].name,uuid:(l==null?void 0:l.uuid)||A()})}}o=o.filter(e=>!n.includes(e.ip)&&e.ip!=="0.0.0.0"&&e.ip!=="localhost"&&e.ip!=="127.0.0.1"&&e.ip!=="::1"&&e.type==="ipv4");const r=[];for(let e=0;e<o.length;e++)r.find(s=>s.ip===o[e].ip)||r.push(o[e]);return r}renderMessage(){return this.state.showMessage?h.jsx(g.Message,{text:g.I18n.t("custom_kisshome_You cannot record the traffic of Fritz!Box"),onClose:()=>this.setState({showMessage:!1})}):null}disableFritzBox(){const t=b.ConfigGeneric.getValue(this.props.data,"devices")||[],n=b.ConfigGeneric.getValue(this.props.data,"fritzbox");let a=!1;t.forEach(o=>{o.ip===n&&o.enabled&&(a=!0,o.enabled=!1)}),a&&this.onChange("devices",t)}checkDevices(t){if(t.find(n=>(n.desc||"").length<3))this.props.onError("devices",g.I18n.t("custom_kisshome_name_too_short"));else if(t.find(n=>!n.ip&&!n.mac))this.props.onError("devices",g.I18n.t("custom_kisshome_name_ip_and_mac_missing"));else if(t.find(n=>!T(n.ip)))this.props.onError("devices",g.I18n.t("custom_kisshome_name_invalid_ip"));else if(t.find(n=>!k(n.mac)))this.props.onError("devices",g.I18n.t("custom_kisshome_name_invalid_mac"));else{const n=t.filter(a=>a.enabled&&a.ip).map(a=>a.ip);if(n.length!==new Set(n).size)this.props.onError("devices",g.I18n.t("custom_kisshome_duplicate_ip"));else{const a=t.filter(o=>o.enabled&&o.mac).map(o=>o.mac);a.length!==new Set(a).size?this.props.onError("devices",g.I18n.t("custom_kisshome_duplicate_mac")):this.props.onError("devices")}}}renderItem(){var r;const t=b.ConfigGeneric.getValue(this.props.data,"devices")||[],n=b.ConfigGeneric.getValue(this.props.data,"fritzbox");t.forEach(e=>{e.uuid||(e.uuid=A())});const a=this.state.ips?t.filter(e=>!this.state.ips.find(s=>s.ip===e.ip&&s.uuid===e.uuid)):t,o=t.every(e=>e.enabled)&&(this.state.ips?this.state.ips.every(e=>t.find(s=>s.ip===e.ip)):!0);return h.jsxs(u.TableContainer,{children:[this.renderMessage(),this.state.runningRequest||this.state.resolving?h.jsx(u.LinearProgress,{}):h.jsx("div",{style:{height:2,width:"100%"}}),h.jsxs(u.Table,{style:_.table,size:"small",children:[h.jsx(u.TableHead,{children:h.jsxs(u.TableRow,{children:[h.jsxs(u.TableCell,{style:{..._.header,width:120},children:[h.jsx(u.Checkbox,{title:o?g.I18n.t("custom_kisshome_unselect_all"):g.I18n.t("custom_kisshome_select_all"),checked:o,indeterminate:!o&&t.length>0,disabled:this.state.runningRequest,onClick:()=>{const e=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]];if(o){e.forEach(s=>s.enabled=!1);for(let s=e.length-1;s>=0;s--)this.state.ips.find(l=>l.ip===e[s].ip)&&e.splice(s,1)}else e.forEach(s=>s.enabled=!0),this.state.ips.forEach(s=>{!e.find(l=>s.ip===l.ip)&&s.ip!==n&&e.push({ip:s.ip,mac:s.mac,desc:s.desc,enabled:!0,uuid:s.uuid})}),e.forEach(s=>s.enabled=!0);this.onChange("devices",e)}}),h.jsx(u.Fab,{onClick:()=>{const e=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]];e.push({ip:"",mac:"",desc:"",enabled:!0,uuid:A()}),this.onChange("devices",e),this.checkDevices(e)},size:"small",disabled:this.state.runningRequest,children:h.jsx($.Add,{})})]}),h.jsx(u.TableCell,{style:_.header,children:g.I18n.t("custom_kisshome_ip")}),h.jsx(u.TableCell,{style:_.header,children:g.I18n.t("custom_kisshome_mac")}),h.jsx(u.TableCell,{style:_.header,children:g.I18n.t("custom_kisshome_vendor")}),h.jsx(u.TableCell,{style:_.header,children:g.I18n.t("custom_kisshome_name")}),h.jsx(u.TableCell,{style:_.header})]})}),h.jsxs(u.TableBody,{children:[(r=this.state.ips)==null?void 0:r.map(e=>{var s,l;return h.jsxs(u.TableRow,{children:[h.jsx(u.TableCell,{scope:"row",style:_.td,children:h.jsx(u.Checkbox,{checked:!!((s=t.find(d=>d.uuid===e.uuid))!=null&&s.enabled),disabled:this.state.runningRequest,onClick:()=>{const d=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],p=d.findIndex(c=>c.uuid===e.uuid);if(p===-1){const c=d.findIndex(m=>m.ip===e.ip);if(c!==-1){const m=JSON.parse(JSON.stringify(this.state.ips)),y=m.find(M=>M.uuid===e.uuid);y&&(y.uuid=d[c].uuid),d[c].enabled=!0,this.setState({ips:m},()=>this.onChange("devices",d))}else{if(e.ip===n){this.setState({showMessage:!0});return}d.push({ip:e.ip,mac:e.mac,desc:e.desc,enabled:!0,uuid:e.uuid})}}else d.splice(p,1);this.onChange("devices",d)}})}),h.jsx(u.TableCell,{style:_.td,children:e.ip}),h.jsx(u.TableCell,{style:_.td,children:e.mac||""}),h.jsx(u.TableCell,{style:{..._.td,..._.vendor},children:((l=this.state.MAC2VENDOR)==null?void 0:l[I(e.mac)])||""}),h.jsx(u.TableCell,{style:_.td,children:e.desc}),h.jsx(u.TableCell,{style:_.td})]},e.uuid)}),a.map(e=>{var m,y,M;const s=V(e.ip),l=I(e.mac),d=(m=this.state.IP2MAC)==null?void 0:m[s],p=e.ip&&e.enabled&&t.filter(v=>e.ip===v.ip).length>1?g.I18n.t("custom_kisshome_duplicate_ip"):"",c=e.mac&&e.enabled&&t.filter(v=>e.mac===v.mac).length>1?g.I18n.t("custom_kisshome_duplicate_mac"):"";return h.jsxs(u.TableRow,{children:[h.jsx(u.TableCell,{scope:"row",style:_.td,children:h.jsx(u.Checkbox,{checked:!!e.enabled,disabled:this.state.runningRequest,onClick:()=>{const v=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],f=v.find(C=>C.uuid===e.uuid);if(f){if(!f.enabled&&e.ip===n){this.setState({showMessage:!0});return}f.enabled=!f.enabled,this.onChange("devices",v)}}})}),h.jsx(u.TableCell,{style:_.td,children:h.jsx(u.TextField,{fullWidth:!0,error:!!p||!T(e.ip)||!e.ip&&!e.mac,helperText:p||(T(e.ip)?!e.ip&&!e.mac?g.I18n.t("custom_kisshome_name_ip_and_mac_missing"):"":g.I18n.t("custom_kisshome_name_invalid_ip")),value:e.ip,disabled:this.state.runningRequest,placeholder:"192.168.x.y",onChange:v=>{const f=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],C=f.find(S=>S.uuid===e.uuid);C&&(C.ip=v.target.value,C.ip===n&&C.enabled&&setTimeout(()=>this.disableFritzBox(),300),this.onChange("devices",f),this.validateAddresses(),this.checkDevices(f))},onBlur:()=>{if(e.ip.trim()&&s!==e.ip){const v=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],f=v.find(C=>C.uuid===e.uuid);f&&(f.ip=s,this.onChange("devices",v),this.checkDevices(v))}},variant:"standard"})}),h.jsx(u.TableCell,{style:_.td,children:h.jsx(u.TextField,{fullWidth:!0,value:e.mac,disabled:this.state.runningRequest,error:!!c||!k(e.mac)||!e.ip&&!e.mac,helperText:c||(k(e.mac)?!e.ip&&!e.mac?g.I18n.t("custom_kisshome_name_ip_and_mac_missing"):"":g.I18n.t("custom_kisshome_name_invalid_mac")),placeholder:d||"XX:XX:XX:XX:XX:XX",onChange:v=>{const f=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],C=f.find(S=>S.uuid===e.uuid);C&&(C.mac=v.target.value,this.onChange("devices",f),this.validateAddresses(),this.checkDevices(f))},onBlur:()=>{if(e.mac.trim()){const v=l;if(v!==e.mac){const f=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],C=f.find(S=>S.uuid===e.uuid);C&&(C.mac=v,this.onChange("devices",f),this.checkDevices(f))}}},variant:"standard"})}),h.jsx(u.TableCell,{style:{..._.td,..._.vendor},children:e.mac?((y=this.state.MAC2VENDOR)==null?void 0:y[l])||"":d&&((M=this.state.MAC2VENDOR)==null?void 0:M[d])||""}),h.jsx(u.TableCell,{style:_.td,children:h.jsx(u.TextField,{fullWidth:!0,value:e.desc,disabled:this.state.runningRequest,onChange:v=>{const f=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],C=f.find(S=>S.uuid===e.uuid);C&&(C.desc=v.target.value,this.onChange("devices",f),this.checkDevices(f))},helperText:(e.desc||"").length>=3?"":g.I18n.t("custom_kisshome_name_too_short"),error:(e.desc||"").length<3,variant:"standard"})}),h.jsx(u.TableCell,{style:_.td,children:h.jsx(u.IconButton,{disabled:this.state.runningRequest,onClick:()=>{const v=[...b.ConfigGeneric.getValue(this.props.data,"devices")||[]],f=v.findIndex(C=>C.uuid===e.uuid);f!==-1&&(v.splice(f,1),this.onChange("devices",v),this.checkDevices(v))},children:h.jsx($.Delete,{})})})]},e.uuid)})]})]})]})}}export{j as C};
